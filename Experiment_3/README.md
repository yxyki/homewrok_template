# 贪心算法实验报告

## 学号：20201060335

## 实验目的：

编程实现经典的贪心算法，理解贪心算法设计的基本思想、程序实现的相关技巧，加深对贪心算法设计与分析思想的理解。通过程序的执行时间测试结果，与理论上的时间复杂度结论进行对比、分析和验证。

## 实验原理

* **贪心算法的基本思想**
贪心算法求解优化问题的基本思想是：采用逐步构造最优解的方法。在每个阶段，都作出一个当前最优的决策（在一定的标准下）。决策一旦作出，就不可再更改（作出贪心决策的依据称为贪心准则）。贪心算法的一般步骤如下：
(1) 根据拟解决问题选取一种贪心准则；
(2) 按贪心准侧标准对 n 个候选输入排序（以这一方法为代表，仍可基于堆来存储候选）；
(3) 依次选择输入量加入部分解中：如果当前这个输入量的加入，不满足约束条件，则不把此输入加到这部分解中。
贪心算法的基本设计范式如下：
```C
Greedy(A,n) 
  A: include n inputs 
  Solution=Ф
  for i=1 to n do 
    x=Select(A) 
    if Feasible(solution,x) then 
      solution=Union(solution,x) 
   end if 
  end for 
  return solution
```  
* **测试算法**
背包问题是使用贪心算法求解的代表问题，算法如下：
```C
KnapsackGreedy(p，w，m，x，n) 
//v[1..n]和 w[1..n]分别含有按 vi/wiv(i+1)/v(i+1)排序的 n 件物品的价值和重量。M 是背包的容量大小，而 x[1..n]是解向量// 
  for i=1 to n do 
    xi=0 //将解向量初始化为零// 
   end for 
  cu=m //cu 是背包剩余容量// 
  for i=1 to n do 
    if wi>cu then 
      exit 
    end if 
    xi=1 
    cu=cu-wi 
    repeat 
    if i≤n then 
      xi=cu/wi 
    end if
``` 
算法的时间复杂度取决于对 vi/wi 排序的时间复杂度，若选择 MergeSort 排序算法，则以上算法的时间复杂度为 O(nlogn)。

## 实验输入数据集

+ 用户输入数据：6 100  
50 40 100 105 60 30 70 40 85 80 40 60
+ 随机数据：**物品的个数**以及**背包的容量**由用户输入；物品的**价值**与**质量**由随机数生成算法或者用户手动输入数据确定。  

## 实验内容

编程实现以上求解背包问题的贪心算法，并通过手动设置、生成随机数获得实验数据。记录随着输入规模增加算法的执行时间，分析并以图形方式展现增长率；测试、验证、对比算法的时间复杂度。  

(1) 编程实现以上 KnapsackGreedy 算法，并进行测试，保证程序正确无误。其中，分别在程序开始和结束处设置记录系统当前时间的变量、用于计算程序执行的时间（以毫秒(ms)作为时间的计数单位）。  
(2) 设定一个 m 值，测试随着 n 增加、程序执行时间增加的趋势。分别使用1.1 节中的随机数生成算法生成 n 个随机数作为 n 个物品的重量，再生成 n 个随机数作为 n 个物品的价值（n=10, 20, 40, 100, 200, 400, 800, 2000）。记录随着 n增加程序的执行时间，并使用 MS Excel、Matlab 或Origin 等图表绘制工具生成程序执行时间的对比曲线图。  
(3) 与理论上的时间复杂度结论进行对比分析，完成实验报告。  

**代码链接**：  
[KnapsackGreedy.cpp(贪心解法)](https://github.com/yxyki/homewrok_template/blob/main/Experiment_3/KnapsackGreedy.cpp)  

## 实验预期结果与实际结果
+ **实验预期结果**：假定m=200，使用贪心法的时间复杂度取决于排序的时间复杂度。

+ **实验过程及实验结果**  

(C++版，n=6,用户输入)
```bash
gitpod /workspace/homewrok_template/Experiment_3 (main) $ ./KnapsackGreedy.exe
请输入物品的个数以及物品最大价值:6 100
请输入背包容量:200
1.手动输入数据
2.生成随机数
1
请输入第1个商品的质量和价值:50 40
请输入第2个商品的质量和价值:100 105
请输入第3个商品的质量和价值:60 30
请输入第4个商品的质量和价值:70 40
请输入第5个商品的质量和价值:85 80
请输入第6个商品的质量和价值:40 60
质量为40,价值为60的物品放入比例为:1.000
质量为100,价值为105的物品放入比例为:1.000
质量为85,价值为80的物品放入比例为:0.706
质量为50,价值为40的物品放入比例为:0.000
质量为70,价值为40的物品放入比例为:0.000
质量为60,价值为30的物品放入比例为:0.000
最大价值为221.471
程序的时间为2.0000ms
```

（C++版，n=10,随机数据）
```bash
gitpod /workspace/homewrok_template/Experiment_3 (main) $ ./KnapsackGreedy.exe
请输入物品的个数以及物品最大价值:10 10
请输入背包容量:200
1.手动输入数据
2.生成随机数
2
质量为50,价值为10的物品放入比例为:1.000
质量为35,价值为5的物品放入比例为:1.000
质量为78,价值为8的物品放入比例为:1.000
质量为88,价值为8的物品放入比例为:0.420
质量为54,价值为4的物品放入比例为:0.000
质量为125,价值为5的物品放入比例为:0.000
质量为114,价值为4的物品放入比例为:0.000
质量为195,价值为5的物品放入比例为:0.000
质量为172,价值为2的物品放入比例为:0.000
质量为171,价值为1的物品放入比例为:0.000
最大价值为26.364
程序的时间为2.0000ms
```

通过设置计数器，可得出当m=200时，n分别为10，20，40，100，200，400，800，2000时的运行时间如下表所示:  
规模|10|20|40|100|200|400|800|2000
-|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:
时间(ms)|2|4|13|64|239|906|2417|18116  

根据表格的数据，利用matlab软件，画出时间增长图如下：  
![](/Experiment_3/img/exp3.png)  
> 由图像可知，在背包容量m一定的情况下，随着n值的增大，算法的执行时间呈递增趋势，且这种趋势是与排序方式有关的。由于使用的是冒泡排序，因此会呈平方的趋势增加。